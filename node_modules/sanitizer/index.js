/**
 * [removes all weirds characters in order to create a proper name for a file]
 * @param  {string} filename 	[name of the file to be sanitized]
 * @return {string}          	[proper name file]
 */
function sanitizeFilename (filename){
	
	var replacements = [
			{"pattern" : 'Š', "replace" : 'S'}, {"pattern" : 'š', "replace" : 's'}, {"pattern" : 'Ð', "replace" : 'Dj'},{"pattern" : 'Ž', "replace" : 'Z'}, {"pattern" : 'ž', "replace" : 'z'}, {"pattern" : 'À', "replace" : 'A'}, {"pattern" : 'Á', "replace" : 'A'}, {"pattern" : 'Â', "replace" : 'A'}, {"pattern" : 'Ã', "replace" : 'A'}, {"pattern" : 'Ä', "replace" : 'A'}, {"pattern" : 'Å', "replace" : 'A'}, {"pattern" : 'Æ', "replace" : 'A'}, {"pattern" : 'Ç', "replace" : 'C'}, {"pattern" : 'È', "replace" : 'E'}, {"pattern" : 'É', "replace" : 'E'}, {"pattern" : 'Ê', "replace" : 'E'}, {"pattern" : 'Ë', "replace" : 'E'}, {"pattern" : 'Ì', "replace" : 'I'}, {"pattern" : 'Í', "replace" : 'I'}, {"pattern" : 'Î', "replace" : 'I'}, {"pattern" : 'Ï', "replace" : 'I'}, {"pattern" : 'Ñ', "replace" : 'N'}, {"pattern" : 'Ò', "replace" : 'O'}, {"pattern" : 'Ó', "replace" : 'O'}, {"pattern" : 'Ô', "replace" : 'O'}, {"pattern" : 'Õ', "replace" : 'O'}, {"pattern" : 'Ö', "replace" : 'O'}, {"pattern" : 'Ø', "replace" : 'O'}, {"pattern" : 'Ù', "replace" : 'U'}, {"pattern" : 'Ú', "replace" : 'U'}, {"pattern" : 'Û', "replace" : 'U'}, {"pattern" : 'Ü', "replace" : 'U'}, {"pattern" : 'Ý', "replace" : 'Y'}, {"pattern" : 'Þ', "replace" : 'B'}, {"pattern" : 'ß', "replace" : 'Ss'},{"pattern" : 'à', "replace" : 'a'}, {"pattern" : 'á', "replace" : 'a'}, {"pattern" : 'â', "replace" : 'a'}, {"pattern" : 'ã', "replace" : 'a'}, {"pattern" : 'ä', "replace" : 'a'}, {"pattern" : 'å', "replace" : 'a'}, {"pattern" : 'æ', "replace" : 'a'}, {"pattern" : 'ç', "replace" : 'c'}, {"pattern" : 'è', "replace" : 'e'}, {"pattern" : 'é', "replace" : 'e'}, {"pattern" : 'ê', "replace" : 'e'}, {"pattern" : 'ë', "replace" : 'e'}, {"pattern" : 'ì', "replace" : 'i'}, {"pattern" : 'í', "replace" : 'i'}, {"pattern" : 'î', "replace" : 'i'},{"pattern" : 'ï', "replace" : 'i'}, {"pattern" : 'ð', "replace" : 'o'}, {"pattern" : 'ñ', "replace" : 'n'}, {"pattern" : 'ò', "replace" : 'o'}, {"pattern" : 'ó', "replace" : 'o'}, {"pattern" : 'ô', "replace" : 'o'}, {"pattern" : 'õ', "replace" : 'o'}, {"pattern" : 'ö', "replace" : 'o'}, {"pattern" : 'ø', "replace" : 'o'}, {"pattern" : 'ù', "replace" : 'u'},{"pattern" : 'ú', "replace" : 'u'}, {"pattern" : 'û', "replace" : 'u'}, {"pattern" : 'ý', "replace" : 'y'}, {"pattern" : 'ý', "replace" : 'y'}, {"pattern" : 'þ', "replace" : 'b'}, {"pattern" : 'ÿ', "replace" : 'y'}, {"pattern" : 'ƒ', "replace" : 'f'}, {"pattern" : '&', "replace" : 'and'}, {"pattern" : '@', "replace" : 'and'}, {"pattern" : '#', "replace" : 'number'}, {"pattern" : ' ', "replace" : '_'}, {"pattern" : '\'', "replace" : ''}, {"pattern" : ':', "replace" : '_'}, {"pattern":'®', "replace":"copyright"}, {"pattern":'™', "replace":"TM"}
	];

	replacements.forEach(function(elem, index) {
		filename = replaceAll(elem.pattern, elem.replace, filename);
	});

	return filename.toLowerCase();
}


function replaceAll(find, replace, str) {
  		return str.replace(new RegExp(find, 'g'), replace);
}

module.exports.sanitizeFilename = sanitizeFilename;