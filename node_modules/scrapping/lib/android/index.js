var Android = function(url){
	this._url 		= url;
	this._urlModule 	= require('url');
	this._https		= require('https');
	this._htmlSchema 	= require('./config/htmlSchema.json'),
	this._dataStore 	={};
	
}

Android.prototype.getInformationStore = function(cb){
	
	var 	self 		= this,
		urlParse 	= this._urlModule.parse(this._url);

	var options = {
		host 		: urlParse.host,
		path 		: urlParse.path,
		method 	: 'GET'
	};

	
	var req = this._https.get(options, function(res) {
		var html='';
		res.on('data', function (chunk) {
			html+=chunk;
		});
		res.on('end', function (chunk) {
			for(entry in self._htmlSchema){
				var regex = new RegExp(self._htmlSchema[entry].elem);
				regex.exec(html);
				self._dataStore[entry] = RegExp.$1;
			}
			if(typeof cb == 'function'){
				cb(self._dataStore);
			}	
		});  
	 });
}

module.exports = Android;